{
  "name": "curl",
  "version": "0.7.6",
  "gitHead": "c939fc5960d8ab0f20351d9794ee3d0908416cbe",
  "readme": "curl (cujoJS resource loader)\r\n=====================\r\n\r\nCheck out the newly updated [wiki](https://github.com/cujojs/curl/wiki)!\r\n\r\nSee the [wiki](https://github.com/cujojs/curl/wiki) for information about using\r\ncurl.js with jQuery, dojo, or underscore.\r\n\r\nWhat's New?\r\n=======\r\n\r\n* 0.7.6\r\n\t* Adds compatibility with dojo 1.8 and 1.9, including the ability to provide\r\n\t  `has` configuration via `curl.config()`. (Requires use of the\r\n\t  curl/shim/dojo18 shim.)\r\n\t* Fixes many bugs in the i18n and cjsm11 cram (build) plugins.\r\n\t* Stops encoding the output of the cram plugins that emit javascript code.\r\n\t* Adds code documentation improvements in the plugins.\r\n\t* Applies Seriously overdue README updates.\r\n\t* Restores text! plugin functionality to the \"kitchen sink\" build.\r\n* 0.7.5\r\n\t* Can now resolve relative plugin ids in local require (bug fix).\r\n* 0.7.4\r\n\t* curl.js is now available on CDN: http://cdnjs.com/#curl and\r\n\t  http://jsdelivr.com/#!curl.js\r\n\t* \"main\" modules specified in config are fetched after a delay for better\r\n\t  compatibility with bundles.\r\n\t* cram.js support\r\n\t* data-curl-run attribute for loading run.js files.\r\n\t* fix to stop IE6-8 complaining about sourceURL when @cc_on.\r\n\t* new debug dist version of curl.js.\r\n\t* bug fixes for running curl.js inside node.js.\r\n* 0.7.3\r\n\t* css! plugin no longer fails when sniffing for Opera (Fixes #147)\r\n\t* new curl.config() API method\r\n\t* curl(config) and curl.config() can be called repeatedly (fixes #146)\r\n\t* new \"main\" {String|Array} config option to init loading of main modules\r\n\t  for an application\r\n\t* new i18n plugin (fixes #26)\r\n* 0.7.2\r\n\t* css! plugin now works everywhere (closed an Opera-XDomain issue).\r\n\t* css! plugin now returns the stylesheet created (as it used to, but for\r\n\t  all browsers).\r\n\t* curl() error handler is called even if no success handler is specified.\r\n* 0.7.1\r\n\t* fixed inability to load non-anonymous \"main\" modules (packages) (also #138)\r\n\t* restored ability to use urls in place of module ids as dependencies\r\n\t* fixed duplicate downloads/execution of modules if dev specified\r\n\t  module in two different ways (e.g. as module and as url) (#137)\r\n\t* fixed early callback in IE under load (#136)\r\n\t* restored plugin-specific config and paths\r\n* 0.7.0\r\n\t* new module.config() method when using CommonJS-wrapped modules\r\n\t* dontAddFileExt config option (RegExp or string) decides whether or not\r\n\t  to add a .js file extension to module urls.\r\n\t* Implement error callbacks in require() and plugin load() methods.\r\n\t* Improved css! plugin no longer fails on blank stylesheets and supports\r\n\t  all features in all browsers (except for error callbacks in Opera, IE6,\r\n\t  Safari 5 (and below) and Firefox 8 (and below)).\r\n\t* shell scripts now work in more environments\r\n\t* many other fixes\r\n\r\nTODO:\r\n\r\n* document plugin configuration options and how to use each plugin\r\n* notes about using JSONP (it works for objects, arrays, functions, numbers\r\n  and strings! use ?callback=define)\r\n\r\n----------------------------------------\r\n\r\nWhat is curl.js?\r\n================\r\n\r\ncurl.js is a small and very fast AMD-compliant asynchronous loader.\r\nSize: ~4KB (gzipped) using Google's Closure Compiler.\r\n\r\nIf you'd like to use curl.js for non-AMD modules (ordinary javascript files),\r\nyou'll want to  use a version with the js! plugin built in.  You may also\r\nwant to build-in the domReady module.\r\n\r\ncurl.js, like all async loaders, cannot circumvent browsers' security\r\nrestrictions when using the `file:` protocol.  Therefore, you must use\r\ncurl from a page served from a web server (i.e. using `http:` or `https:`).\r\nTrying to run curl.js from a page loaded from your local file system\r\nwill not work correctly.\r\n\r\nWhat the heck is \"cujoJS\"?  cujoJS is a web app development platform.\r\nMore info: [cujojs.com](http://cujojs.com)\r\n\r\nWhat is \"cram\"? cram (cujoJS resource assembler) is the build tool companion to\r\ncurl.js.  You use cram to compile all of your modules into a small number of\r\njavascript files which are loaded much faster into the browsers.\r\n\r\n----------------------------------------\r\n\r\nFeatures at a glance:\r\n=====================\r\n\r\n* Loads AMD-formatted javascript modules in parallel (fast!)\r\n* Loads CommonJS Modules (v1.1 when wrapped in a `define()`) (fast!)\r\n* Loads CommonJS Modules (unwrapped when using the cjsm11 loader) (fast!)\r\n* Loads non-AMD javascript files in parallel, too (fast! via js! plugin)\r\n* Loads CSS files and text files in parallel (fast! via plugins)\r\n* Waits for dependencies (js, css, text, etc) before executing javascript\r\n* Waits for domReady, if/when desired\r\n* Allows for virtually limitless combinations of files and dependencies\r\n* Tested with Safari 5+, IE6+, and recent Chrome, FF, Opera\r\n\r\nOh, did we mention?  It's fast!  It's even faster than the leading non-AMD\r\nscript loaders.\r\n\r\n----------------------------------------\r\n\r\nHow to get support\r\n===============\r\n\r\n1. Go to the issues section of the curl repo\r\n   (https://github.com/cujojs/curl/issues) and search for an answer to your\r\n   question or problem.\r\n2. If no answer exists, file a new ticket!  Somebody will typically respond\r\n   within a few hours.\r\n\r\nIt's that easy.\r\n\r\nGot more in-depth questions?  Browse the\r\n[cujoJS discussion group](https://groups.google.com/d/forum/cujojs) or\r\ncome chat with us on freenode @ #cujojs.\r\n\r\n----------------------------------------\r\n\r\nAPI at a glance\r\n===============\r\n\r\nAt it's core, curl.js provides an AMD environment:\r\n\r\n```javascript\r\ndefine(['dep1', 'dep2', 'dep3' /* etc */], factory);\r\ndefine(['dep1', 'dep2', 'dep3' /* etc */], module);\r\ndefine(module);\r\ndefine(name, ['dep1', 'dep2', 'dep3' /* etc */], factory);\r\ndefine(name, ['dep1', 'dep2', 'dep3' /* etc */], module);\r\ndefine(name, module);\r\n```\r\n\r\nThese all define a module per the AMD specification.\r\n\r\n* ['dep1', 'dep2', 'dep3']: Module names or plugin-prefixed resource files.\r\nDependencies may be named 'require', 'exports', or 'module' and will behave\r\nas defined in the CommonJS Modules 1.1 proposal.\r\n* factory: Function called to define the module.  Each dependency is\r\n  passed as a parameter to the factory.\r\n* module: Any javascript object, function, constructor, or primitive\r\n* name: String used to name a module. This is not necessary nor is it\r\n  recommended.  \"Named modules\" are typically only created by build tools\r\n  and AMD bundlers.\r\n\r\n```javascript\r\ndefine(function (require, exports, module) {\r\n\tvar dep1 = require('app/foo');\r\n\texports.foo2 = function () { return foo() + 2; };\r\n});\r\n```\r\n\r\nDefines a module using the AMD-wrapped-CommonJS format.  If a factory function\r\nhas parameters, but the dependency list is missing, this format is assumed.\r\nThe `exports` and `module` parameters are optional, but when specified, must\r\nbe in this exact order.\r\n\r\n```javascript\r\ndefine(function (require) {\r\n\tvar dep1 = require('app/foo');\r\n\treturn function () { return foo() + 2; };\r\n});\r\n```\r\n\r\nAnother variation on AMD-wrapped-CommonJS that uses `require()` in the\r\ntidy CommonJS manner, but returns the exports as per typical AMD.\r\n\r\n```javascript\r\ndefine(['require', 'exports', 'module'], function (require, exports, module) {\r\n\tvar dep1 = require('app/foo');\r\n\texports.foo2 = function () { return foo() + 2; };\r\n});\r\n```\r\n\r\nAnother way to gain access to the CommonJS-like variables, `require`,\r\n`exports`, `module`.  When specified in the dependency list, these\r\n\"pseudo-modules\" are provided as arguments to the factory function.\r\n\r\n\r\n```javascript\r\nvar dep1 = require('app/foo');\r\nexports.foo2 = function () { return foo() + 2; };\r\n```\r\n\r\ncurl.js also supports *unwrapped* CommonJS modules via the cjsm11 module loader.\r\nTo use this module loader for a package, say Backbone, you would provide it\r\nto a package's config, like this:\r\n\r\n```javascript\r\ncurl.config({\r\n\tpackages: [\r\n\t\t{\r\n\t\t\tname: 'backbone',\r\n\t\t\tlocation: 'bower_components/backbone'\r\n\t\t\tmain: 'backbone.min.js',\r\n\t\t\tconfig: { moduleLoader: 'curl/loader/cjsm11' } /* <-- hey! */\r\n\t\t}\r\n\t]\r\n});\r\n```\r\n\r\n-----\r\n\r\ncurl.js's global API is for bootstrapping an app.  You would typically only use\r\nthis API *once* in your application to load the main module of your application.\r\n\r\nFor a complete description, check out the [wiki](https://github.com/cujojs/curl/wiki).\r\n\r\n```javascript\r\ncurl(['main', 'other', 'another' /* etc */], callback, errorback);\r\n```\r\n\r\nLoads a module named \"main\" along with two other modules and the executes\r\ncallback, handing it the exported values of the modules as parameters.\r\n\r\n* ['main', 'other', 'another']: Module names or plugin-prefixed resource files.\r\n* callback: Function to receive modules or resources. This is where you'd\r\n  typically start up your app. Optional.\r\n* errorback: Function to receive an exception parameter when loading fails.\r\n   Optional.\r\n\r\n---------\r\n\r\n```javascript\r\ncurl(['main', 'other', 'another' /* etc */])\r\n\t.then(callback, errorback);\r\n```\r\n\r\nPromises-based API for executing callbacks.\r\n\r\n* ['main', 'other', 'another']: Module names or plugin-prefixed resource files.\r\n* callback: Function to receive modules or resources. Optional.\r\n* errorback: Function to call if an exception occurred while loading. Optional.\r\n* For full CommonJS Promises/A+ compliance, use [when.js](https://github.com/cujojs/when)\r\n    * `when(curl(['dep1'])).then(callback);`\r\n\r\n---------\r\n\r\n```javascript\r\ncurl(config, ['main' /* etc */], callback, errorback);\r\n```\r\nSpecify configuration options, load dependencies, and execute callback.\r\n\r\n* config: Object containing curl configuration options (paths, etc.)\r\n* ['main']: Module name(s).\r\n* callback: Function to receive modules or resources. Optional.\r\n* errorback: Function to call if an exception occurred while loading. Optional.\r\n\r\n---------\r\n\r\n```javascript\r\ncurl(['main', 'domReady!' /* etc */]).then(\r\n\tcallback,\r\n\terrorback\r\n);\r\n```\r\n\r\n```javascript\r\ncurl(['main', 'domReady!' /* etc */], function (main) {\r\n\t// do some bootstrapping here\r\n});\r\n```\r\n\r\nExecutes the callback when the dom is ready for manipulation AND\r\nall dependencies have loaded.\r\n\r\n---------\r\n\r\n```javascript\r\ncurl(['domReady!', 'js!nonAMD.js!order', 'js!another.js!order']), function () {\r\n\t/* do something cool here */\r\n});\r\n```\r\n\r\nExecutes the function when the non-AMD javascript files are loaded and\r\nthe dom is ready. The another.js file will wait for the nonAMD.js file\r\nbefore executing.\r\n\r\nNote: if a file supports AMD or CommonJS module formats, you *can not* use the\r\njs! plugin on that file.\r\n\r\n---------\r\n\r\n```javascript\r\ncurl(['js!nonAMD.js'])\r\n\t.next(['dep1', 'dep2', 'dep3'], function (dep1, dep2, dep3) {\r\n\t\t// do something before the dom is ready\r\n\t})\r\n\t.next(['domReady!'])\r\n\t.then(\r\n\t\tfunction () {\r\n\t\t\t// do something after the dom is ready\r\n\t\t},\r\n\t\tfunction (ex) {\r\n\t\t\t// show an error to the user\r\n\t\t}\r\n\t);\r\n```\r\n\r\nExecutes callbacks in stages using `.next(deps, callback)`.\r\n\r\nNote: `.next()` does not load resources in parallel.  Therefore, it is a\r\nlast resort when other options do not satisfy your use case.  You should\r\nuse the `preloads` config option and/or the js! plugin's !order suffix\r\nwhenever possible.\r\n\r\n---------\r\n\r\n```javascript\r\ncurl = {\r\n\tbaseUrl: '/path/to/my/js',\r\n\tpluginPath: 'for/some/reason/plugins/r/here',\r\n\tpaths: {\r\n\t\tcurl: 'curl/src/curl',\r\n\t\tcssx: 'cssx/src/cssx',\r\n\t\tmy: '../../my-lib/'\r\n\t},\r\n\tapiName: 'someOtherName'\r\n};\r\n```\r\n\r\nIf called before the `<script>` that loads curl.js, a global `curl` var will\r\nconfigure curl.js when it loads.  All of the configuration parameters are\r\noptional. curl.js tries to do something sensible in their absence. :)\r\n\r\nSome common configuration options:\r\n\r\n* baseUrl: the root folder to find all modules, default is the document's folder\r\n* paths: a mapping of module paths to relative paths (from baseUrl)\r\n* pluginPath: the place to find plugins when they are specified without a path\r\n(e.g. \"css!myCssFile\" vs. \"cssx/css!myCssFile\") and there is no paths\r\nmapping that applies.\r\n* apiName: an alternate name to `curl` and `require` for curl.js's global\r\n  variable\r\n* apiContext: an object, rather than `window`, to place curl on when using\r\n  `apiName`\r\n\r\nA more complete list can be found on the\r\n[wiki](https://github.com/cujojs/curl/wiki/Configuring-curl.js).\r\n\r\n----------------------------------------\r\n\r\nVery Simple Example\r\n===================\r\n\r\n```html\r\n<script>\r\n\r\n\t// configure curl\r\n\tcurl = {\r\n\t\tpaths: {\r\n\t\t\tcssx: 'cssx/src/cssx/',\r\n\t\t\tstuff: 'my/stuff/'\r\n\t\t}\r\n\t};\r\n\r\n</script>\r\n<script src=\"../js/curl.js\" type=\"text/javascript\"></script>\r\n<script type=\"text/javascript\">\r\n\r\n\tcurl(\r\n\t\t// fetch all of these resources (\"dependencies\")\r\n\t\t[\r\n\t\t\t'stuff/three', // an AMD module\r\n\t\t\t'cssx/css!stuff/base', // a css file\r\n\t\t\t'i18n!stuff/nls/strings', // a translation file\r\n\t\t\t'text!stuff/template.html', // an html template\r\n\t\t\t'domReady!'\r\n\t\t]\r\n\t)\r\n\t// when they are loaded\r\n\t.then(\r\n\t\t// execute this callback, passing all dependencies as params\r\n\t\tfunction (three, link, strings, template) {\r\n\t\t\tvar body = document.body;\r\n\t\t\tif (body) {\r\n\t\t\t\tbody.appendChild(document.createTextNode('three == ' + three.toString() + ' '));\r\n\t\t\t\tbody.appendChild(document.createElement('br'));\r\n\t\t\t\tbody.appendChild(document.createTextNode(strings.hello));\r\n\t\t\t\tbody.appendChild(document.createElement('div')).innerHTML = template;\r\n\t\t\t}\r\n\t\t},\r\n\t\t// execute this callback if there was a problem\r\n\t\tfunction (ex) {\r\n\t\t\tvar msg = 'OH SNAP: ' + ex.message;\r\n\t\t\talert(msg);\r\n\t\t}\r\n\t);\r\n\r\n</script>\r\n```\r\n\r\nThe file structure for this example would look as follows:\r\n\r\n\tjs/\r\n\t\tcurl/\r\n\t\t\tplugin/\r\n\t\t\t\ti18n.js\r\n\t\t\t\ttext.js\r\n\t\t\tdomReady.js\r\n\t\tcssx/\r\n\t\t\tsrc/\r\n\t\t\t\tcssx/\r\n\t\t\t\t\tcss.js\r\n\t\tmy/\r\n\t\t\tstuff/\r\n\t\t\t\tnls/\r\n\t\t\t\t\tstrings.js\r\n\t\t\t\tbase.css\r\n\t\t\t\ttemplate.html\r\n\t\t\t\tthree.js\r\n\t\tcurl.js\r\n\r\n----------------------------------------\r\n\r\nWhat is an asynchronous loader?\r\n===============================\r\n\r\nWeb apps, especially large ones, require many modules and resources. Most of\r\nthese modules and resources need to be loaded at page load, but some may be\r\nloaded later, either in the background or \"just in time\". They also need to be\r\nloaded as quickly as possible.\r\n\r\nThe traditional way to load javascript modules is via a `<SCRIPT>` element in\r\nan HTML page. Similarly, CSS files are loaded via a `<LINK>` element, and\r\ntext resources are either loaded in the page or via XHR calls.\r\n\r\nThe problem with `<SCRIPT>` and `<LINK>` elements is that a browser must execute\r\nthem sequentially since it has no idea if one may depend on another. It just\r\nassumes the developer has placed them in the correct order and that there are\r\ndependencies. (The term \"synchronous loading\" is used to describe this process\r\nsince the elements are executed in a single timeline.)\r\n\r\nIf there are no dependencies between two files, loading them sequentially is\r\na waste of time. These files could be loaded and executed in parallel (i.e\r\nat the same time).\r\n\r\nAn asynchronous loader does just that: it loads javascript files (and\r\nother types of files) in parallel whenever possible.\r\n\r\ncurl.js has lots of company. Other async loaders include LABjs, Steal.js,\r\nyepnope.js, $script.js, the Backdraft loader (bdLoad), and RequireJS.\r\n\r\n[(a more complete list)](https://spreadsheets.google.com/ccc?key=0Aqln2akPWiMIdERkY3J2OXdOUVJDTkNSQ2ZsV3hoWVE&hl=en#gid=2)\r\n\r\n----------------------------------------\r\n\r\nWhat is AMD?\r\n============\r\n\r\nAsynchronous Module Definition is a *de facto* standard for\r\njavascript modules that can be loaded by asynchronous loaders. It defines\r\na simple API that developers can use to write their javascript modules so\r\nthat they may be loaded by any AMD-compliant loader.\r\n\r\n[AMD Spec](https://github.com/amdjs/amdjs-api/wiki/AMD)\r\n\r\nThe AMD proposal follows some parts of the\r\n[CommonJS Modules](http://wiki.commonjs.org/wiki/Modules/1.1) proposal.\r\nBecause of the way browsers load and\r\nevaluate scripts, AMD can't follow it completely without causing significant\r\nprocessing overhead.  Instead, AMD allows us to place a lightweight wrapper\r\naround javascript modules to help work around the shortcomings.\r\n\r\nUltimately, both proposals (AMD and Modules 1.1) are in preparation for an\r\nofficial [javascript modules](http://wiki.ecmascript.org/doku.php?id=harmony:modules)\r\nspecification and eventual implementation in browsers.\r\n\r\nIf you don't want to wait for official javascript modules, then don't.\r\nThe future is now.  AMD works now -- and it's awesome.\r\n\r\nAMD's API focuses on one globally-available function: `define()` and some\r\nCommonJS-inspired variables, `require()`, `exports`, and `module`.\r\n`require()` specifies a list of dependent modules or resources that must be\r\nloaded before running a set of code. This code resides in a callback function\r\nthat is executed asynchronously, i.e. it runs later, not in the current\r\n\"thread\".  Specifically, it executes when all of the dependencies are loaded\r\nand ready.\r\n\r\nThe proposal does not mandate that `require()` be specified globally.  In fact,\r\nat a global level, the concerns of a loader are about application bootstrapping\r\nand not about finding dependencies. To keep the confusion about these two\r\nconcepts to a minimum, curl.js uses `curl()` for the public API.  You may rename\r\nthis API back to `require()` by supplying the `apiName` config param\r\n(`apiName: \"require\"`), but this is not recommended.\r\n\r\nIt's more important that the `define()` method be consistent.  This is the\r\nmethod that tells the loader what modules have been loaded by a script.\r\n`define()`  also specifies a list of dependencies and a callback function that\r\ndefines and/or creates the resource when the dependencies are ready.\r\nOptionally, `define()` also takes a name parameter, but this is mainly for build\r\ntools and optimizers.\r\n\r\nInside the `define()`, the `require()` method acts like other AMD loaders.\r\n\r\nAMD's API also helps code reuse by providing compatibility with CommonJS\r\n(server) modules. AMD-compliant loaders support the same `require()` syntax and\r\nargument signatures as server-side javascript (ssjs) modules.\r\n\r\nThe beauty of AMD loaders is their ability to remove the drudgery of manually\r\nmanaging dependencies.  Since all dependencies are listed within the\r\nmodules, the loader will ensure that everything is loaded into the browser --\r\nand in the right order.\r\n\r\n----------------------------------------\r\n\r\nCan curl.js work with non-AMD and non-CommonJS javascript files?\r\n===============================================\r\n\r\nYes, but why would you?  Once you start using AMD, you'll never go back! :)\r\n\r\nYou may use non-AMD javascript files by specifying the js! plugin prefix\r\nlike this:\r\n\r\n```javascript\r\ncurl(\r\n\t[\r\n\t\t'js!plainOldJsFile1.js!order',\r\n\t\t'js!anotherPlainOldJsFile.js!order'\r\n\t]\r\n).then(\r\n\tfunction () {\r\n\t\t/* do something with your plain, boring javascript files */\r\n\t},\r\n\tfunction () {\r\n\t\t/* do something if any fail to load */\r\n\t}\r\n);\r\n```\r\n\r\nThe !order suffix instructs curl.js to wait for previous scripts to execute\r\nbefore executing the current script. All scripts download in parallel, though,\r\nunless you specify `prefetch: false` in the config.  Be sure to have proper\r\ncache headers set if you plan to use `prefetch: true` or scripts will get\r\ndownloaded twice in browsers that don't support `async=\"false\"`.\r\n\r\n----------------------------------------\r\n\r\nCan curl.js load non-javascript files?\r\n=======================\r\n\r\nYes, curl.js follows the CommonJS Loader Plugin specification, so you can use\r\nany compatible plugin. The following plugins are included:\r\n\r\njs! -- loads non-AMD javascript files. more info on the [wiki](https://github.com/cujojs/curl/wiki/js)\r\n\r\ntext! -- loads text files\r\n\r\nlink! -- loads css files via a link element (simple, fast)\r\n\r\ncss! -- loads css files (lots of options)\r\n\r\ndomReady! -- resolves when the dom is ready for manipulation\r\n\r\nasync! -- resolves when a module signals it's ready\r\n\r\ni18n! -- loads text strings and other locale-specific constants\r\n\r\nPlugin docs are on the [wiki](https://github.com/cujojs/curl/wiki/Plugins).\r\n\r\n----------------------------------------\r\n\r\nHow are modules loaded?\r\n=======================\r\n\r\ncurl.js uses `<script>` element injection rather than XHR/eval for AMD modules.\r\nThis allows curl.js to load cross-domain scripts as well as local scripts.\r\nCommonJS modules use XHR/eval so must be wrapped for \"transport\" if not\r\non the same domain.  Typically, you will bundle your modules before using them\r\nin production, anyways.  Most bundlers will wrap CommonJS modules in AMD.\r\n\r\nTo find scripts and other resources, curl.js uses module names.  A module name\r\nlooks just like a file path, but typically without the file extension.  If a\r\nmodule requires a plugin in order to load correctly, it will have a prefix\r\ndelimited by a \"!\" and will also often have a file extension when a plugin\r\nmay load different types of files.\r\n\r\nSome examples of module names:\r\n\r\n* dojo/store/JsonRest\r\n* my/lib/string/format\r\n* js!my/lib/js/plain-old-js.js\r\n* css!my/styles/reset.css\r\n* http://some-cdn/uber/module\r\n\r\nBy default, curl.js will look in the same folder as the current document's\r\nlocation. For instance, if your web page is located at\r\n`http://my-domain/apps/myApp.html`, curl.js will look for the JsonRest module\r\nat `http://my-domain/apps/dojo/store/JsonRest.js`.\r\n\r\nYou can tell curl.js to find modules in other locations by specifying a baseUrl\r\nor individual packages for each of your libraries.  For example, if you specify\r\na baseUrl of `/resources/` and the following paths:\r\n\r\n```javascript\r\npackages: [\r\n\t{ name: \"dojo\", location: \"third-party/dojo\" },\r\n\t{ name: \"css\", location: \"third-party/cssmojo/css\" },\r\n\t{ name: \"my\", location: \"my-cool-app-v1.3\" },\r\n\t{ name: \"my/lib/js\", location: \"old-js-libs\" }\r\n]\r\n```\r\n\r\nThen the modules listed above will be sought in the following locations:\r\n\r\n* /resources/third-party/dojo/store/JsonRest.js\r\n* /resources/my-cool-app-v1.3/lib/string/format.js\r\n* /resources/old-js-libs/plain-old-js.js\r\n* /resources/my-cool-app-v1.3/styles/reset.css\r\n* http://some-cdn/uber/module.js\r\n\r\nNote: you will need to create a path to curl.js's plugins and other modules if\r\nthe curl folder isn't directly under the same folder as your web page. curl.js\r\nuses the same mechanism to find its own modules.\r\n\r\n----------------------------------------\r\n\r\nWhat are AMD plugins?\r\n=====================\r\n\r\nAMD supports the notion of plugins. Plugins are AMD modules that can be used to\r\nload javascript modules -- or other types of resources. curl comes with several\r\nplugins already, including a text plugin (for templates or other text\r\nresources), two different css plugins, a dom-ready plugin, and several others.\r\n\r\nPlugins are designated by a prefix on the name of the module or resource to be\r\nloaded. They are delineated by a ! symbol. The following example shows the use\r\nof some plugins:\r\n\r\n```javascript\r\ndefine(\r\n\t[\r\n\t\t'text!myTemplate.html',\r\n\t\t'css!myCssFile'\r\n\t],\r\n\tfunction (templateString, cssLinkNode) {\r\n\t\t// do something with the template and css here\r\n\t}\r\n);\r\n```\r\n\r\nSince plugins are just AMD modules, they would typically be referenced using\r\ntheir fully-pathed names. curl provides a pluginPath configuration option that\r\nallows you to specify the folder where [most of] your plugins reside so you\r\ndon't have to specify their full paths.  This also helps with compatibility\r\nwith other AMD loaders.\r\n\r\nIf one or more of your plugins does not reside in the folder specified by the\r\npluginPath config option, you can use its full path or you can specify a path\r\nfor it in curl's `paths` config object.\r\n\r\n```javascript\r\n// example of a fully-pathed plugin under the lib/cssx folder\r\ndefine(['lib/cssx!myCssFile'], function (cssxDef) {\r\n\t// do some awesome css stuff here\r\n});\r\n```\r\n\r\nPlugins can also have configuration options. Global options can be specified\r\non curl's configuration object. Options can also be supplied to plugins via\r\nsuffixes. Suffixes are also delineated by the ! symbol. Here's an example of\r\na plugin using options:\r\n\r\n```javascript\r\n// don't try to repair IE6-8 opacity issues in my css file\r\ndefine(['css!myCssFile!ignore:opacity'], function (cssxDef) {\r\n\t// do some awesome css stuff here\r\n});\r\n```\r\n\r\n----------------------------------------\r\n\r\nHow do I use curl.js?\r\n=====================\r\n\r\n1. Learn about AMD-formatted javascript modules if you don't already know how.\r\n2. Clone or download curl to your local machine or server.\r\n3. Figure out the baseUrl and paths configuration that makes sense for your\r\n   project.\r\n4. Check out the \"API at a glance\" section above to figure out which loading\r\n   methodology you want to use.\r\n5. Study the \"Very Simple Example\" and some of the test files.\r\n6. Try it on your own files.\r\n\r\n----------------------------------------\r\n\r\nToo Many Modules!\r\n=================\r\n\r\nI have dozens (or hundreds) of modules. Even with parallel loading, the\r\nperformance sucks! What can I do about that?\r\n\r\nTrue! No parallel loader can lessen the latency required to create an HTTP\r\nconnection. If you have dozens or hundreds of files to download, it's going to\r\ntake time to initiate each of the connections.\r\n\r\nHowever, there are tools to that are designed to fix this problem! There are\r\nbuilders and compilers. dojo users are probably already familiar with dojo's\r\nbuild tool and optimizer. RequireJS comes with a build tool and Google's\r\nClosure compiler.\r\n\r\nThe build tool is used to concatenate several modules (and/or resources)\r\ninto just a few files. It does this by following the dependency chain\r\nspecified in the define() and require() calls. You can specify which top-level\r\nmodules or resources are in each file and the build tool finds the rest.\r\n\r\nAfter the build tool creates the concatenated files, the files can be passed\r\ninto a compiler (also called a shrinker or compressor).\r\n\r\ncurl.js is compatible with RequireJS's build tool, r.js, but there's\r\nalso [cram](https://github.com/cujojs/cram).\r\nCram is the cujoJS resource assembler.\r\n\r\n----------------------------------------\r\n\r\nPackage Support\r\n========================\r\n\r\ncujoJS supports packages.  Packages are defined by the `packages`\r\nconfiguration parameter:\r\n\r\n```javascript\r\ncurl = {\r\n\tbaseUrl: 'path/to/js',\r\n\tpackages: {\r\n\t\t'my-package': {\r\n\t\t\tlocation: 'path/to/my-package',\r\n\t\t\tmain: 'main/main-module-file',\r\n\t\t\tconfig: { /* package-specific configuration options */ }\r\n\t\t}\r\n\t}\r\n};\r\n```\r\n\r\n```javascript\r\ncurl = {\r\n\tbaseUrl: 'path/to/js',\r\n\tpackages: [\r\n\t\t{\r\n\t\t\tname: 'my-package',\r\n\t\t\tlocation: 'path/to/my-package',\r\n\t\t\tmain: 'main/main-module-file',\r\n\t\t\tconfig: { /* package-specific configuration options */ }\r\n\t\t}\r\n\t]\r\n};\r\n```\r\n\r\nThe path property describes where to find the package in relation to the\r\nbaseUrl parameter.  The main and lib properties describe where to find modules\r\ninside the package.  The main property gives the relative path to the package's\r\nmain module.\r\n\r\nIn the example above, the main module of the package can be obtained as follows:\r\n\r\n```javascript\r\ncurl(['my-package'], callback);\r\n```\r\n\r\nand will be fetched from the following path:\r\n\r\n\tpath/to/js/path/to/my-package/main/main-module-file.js\r\n\r\nSome other file in the package would be obtained as follows:\r\n\r\n```javascript\r\ncurl(['my-package/other-module'], callback);\r\n```\r\n\r\nand will be fetched from the following path:\r\n\r\n\tpath/to/js/path/to/my-package/other-module.js\r\n\r\n----------------------------------------\r\n\r\nWhat is cujoJS?\r\n=====================\r\n\r\ncujoJS is the JavaScript Architectural Toolkit.  It employs MVC, IOC, AMD\r\nand lots of other TLAs. :)  Our goal is to provide architectural tools and\r\nguidance.  Find out more at [cujoJS.com](http://cujojs.com).\r\n\r\nKudos\r\n=================\r\n\r\nMany thanks to Bryan Forbes ([@bryanforbes](http://www.twitter.com/bryanforbes))\r\nfor helping to clean up my code and for making curl's domReady much more robust\r\nand help with dojo compatibility.\r\nMore about Bryan: <http://www.reigndropsfall.net/>\r\n\r\nKudos also to James Burke ([@jrburke](http://www.twitter.com/jrburke)) who\r\ninstigated the AMD standard and paved the way to create AMD-style loaders.\r\nMore about James: <http://tagneto.blogspot.com/>\r\n\r\nShout out to Kris Zyp ([@kriszyp](http://www.twitter.com/kriszyp)) for\r\nexcellent ideas and feedback and to Kyle Simpson\r\n([@getify](http://www.twitter.com/getify)) who is inarguably the godfather of\r\njavascript loading.\r\n",
  "readmeFilename": "README.md",
  "_id": "curl@0.7.6",
  "description": "curl (cujoJS resource loader)\r =====================",
  "repository": {
    "type": "git",
    "url": "git://github.com/cujojs/curl"
  }
}